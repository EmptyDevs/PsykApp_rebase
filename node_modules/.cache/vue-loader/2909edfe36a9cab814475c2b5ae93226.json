{"remainingRequest":"/home/totar/Documents/projets_perso/projet_bde_psyk/PsykApp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/totar/Documents/projets_perso/projet_bde_psyk/PsykApp/src/views/Shop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/totar/Documents/projets_perso/projet_bde_psyk/PsykApp/src/views/Shop.vue","mtime":1581104606113},{"path":"/home/totar/Documents/projets_perso/projet_bde_psyk/PsykApp/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/totar/Documents/projets_perso/projet_bde_psyk/PsykApp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/totar/Documents/projets_perso/projet_bde_psyk/PsykApp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFNob3BJdGVtIGZyb20gIi4uL2NvbXBvbmVudHMvc2hvcC9zaG9wX2l0ZW0iOwppbXBvcnQgU2VydmljZUl0ZW0gZnJvbSAiLi4vY29tcG9uZW50cy9zaG9wL3NlcnZpY2VfaXRlbSI7CmltcG9ydCBDYXJ0SXRlbSBmcm9tICIuLi9jb21wb25lbnRzL3Nob3AvY2FydF9pdGVtIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBTaG9wSXRlbSwKICAgICAgICBTZXJ2aWNlSXRlbSwKICAgICAgICBDYXJ0SXRlbQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwR2V0dGVycyh7CiAgICAgICAgICAgIGNhdGVnb3J5OiAiQ2F0ZWdvcnlNb2R1bGUvZ2V0Q2F0ZWdvcnkiLAogICAgICAgICAgICBjYXJ0OiAiZ2V0Q2FydCIsCiAgICAgICAgICAgIGdldE9yZGVyOiAiT3JkZXJNb2R1bGUvZ2V0T3JkZXIiLAogICAgICAgICAgICB1c2VyOiAiVXNlck1vZHVsZS9nZXRVc2VyIgogICAgICAgIH0pCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoewogICAgICAgICAgICByZXNldF9jYXJ0OiAicmVzZXRfY2FydCIsCiAgICAgICAgICAgIGZldGNoQ2F0ZWdvcnk6ICJDYXRlZ29yeU1vZHVsZS9mZXRjaENhdGVnb3J5IiwKICAgICAgICAgICAgc2V0X2NhcnRfaWQ6ICJzZXRfY2FydF9pZCIsCiAgICAgICAgICAgIHBhc3NPcmRlcjogIk9yZGVyTW9kdWxlL3Bhc3NPcmRlciIsCiAgICAgICAgICAgIGZldGNoT3JkZXI6ICJPcmRlck1vZHVsZS9mZXRjaE9yZGVyIgogICAgICAgIH0pLAogICAgICAgIGlzUGhvbmVOdW1iZXIobnVtYmVyKSB7CiAgICAgICAgICAgIGlmIChudW1iZXIubGVuZ3RoICE9IDEwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoIShudW1iZXJbaV0gPD0gIjkiICYmIG51bWJlcltpXSA+PSAiMCIpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSwKICAgICAgICBjb21tYW5kKCkgewogICAgICAgICAgICAvLyB2YXIgbnVtYmVyID0gdGhpcy5waG9uZU51bWJlcjsKICAgICAgICAgICAgLy8gaWYgKCFudW1iZXIpIHsKICAgICAgICAgICAgLy8gICB0aGlzLm9yZGVyU2F0dXMuZGlzcGxheSA9IHRydWU7CiAgICAgICAgICAgIC8vICAgdGhpcy5vcmRlclNhdHVzLnN0YXR1cyA9ICJlcnJvciI7CiAgICAgICAgICAgIC8vICAgdGhpcy5vcmRlclNhdHVzLmRldGFpbHMgPQogICAgICAgICAgICAvLyAgICAgIlR1IG4nYXMgcGFzIHJlbnNlaWduw6kgdG9uIG51bcOpcm8gZGUgdMOpbMOpcGhvbmUuIFR1IG5lIHBldXggZG9uYyBwYXMgY29tbWFuZGVyLiI7CiAgICAgICAgICAgIC8vICAgcmV0dXJuOwogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vIGlmICghdGhpcy5pc1Bob25lTnVtYmVyKG51bWJlcikpIHsKICAgICAgICAgICAgLy8gICB0aGlzLm9yZGVyU2F0dXMuZGlzcGxheSA9IHRydWU7CiAgICAgICAgICAgIC8vICAgdGhpcy5vcmRlclNhdHVzLnN0YXR1cyA9ICJlcnJvciI7CiAgICAgICAgICAgIC8vICAgdGhpcy5vcmRlclNhdHVzLmRldGFpbHMgPSAiTnVtw6lybyBkZSB0w6lsw6lwaG9uZSBub24gdmFsaWRlLiBJbCBkb2l0IMOqdHJlIGR1IHR5cGUgMDEyMzQ1Njc4OSI7CiAgICAgICAgICAgIC8vICAgdGhpcy5waG9uZU51bWJlciA9ICIiCiAgICAgICAgICAgIC8vICAgcmV0dXJuOwogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIHVzZXIucGhvbmVOdW1iZXIgPSB0aGlzLnBob25lTnVtYmVyOwogICAgICAgICAgICB2YXIgY29tbWFuZCA9IHsKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY2FydCwKICAgICAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlci5kYXRhLAogICAgICAgICAgICAgICAgc3RhdHVzOiAwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMucGFzc09yZGVyKGNvbW1hbmQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5yZXNldF9jYXJ0KCk7CiAgICAgICAgICAgICAgICAvLyB0aGlzLm9yZGVyU2F0dXMuZGlzcGxheSA9IHRydWU7CiAgICAgICAgICAgICAgICAvLyB0aGlzLm9yZGVyU2F0dXMuc3RhdHVzID0gInN1Y2Nlc3MiOwogICAgICAgICAgICAgICAgLy8gdGhpcy5vcmRlclNhdHVzLmRldGFpbHMgPQogICAgICAgICAgICAgICAgLy8gICAiQ29tbWFuZGUgcGFzc8OpZS4gTm91cyBhbGxvbnMgYmllbnTDtHQgcmV2ZW5pciB2ZXJzIHRvaSAhIjsKICAgICAgICAgICAgICAgIC8vIHRoaXMucGhvbmVOdW1iZXIgPSAiIjsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2VsZWN0OiB7fSwKICAgICAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLAogICAgICAgICAgICBkcmF3ZXJSaWdodDogZmFsc2UsCiAgICAgICAgICAgIG9yZGVyU2F0dXM6IHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZhbHNlLAogICAgICAgICAgICAgICAgc3RhdHVzOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICBkZXRhaWxzOiAiIgogICAgICAgICAgICB9LAogICAgICAgICAgICBwaG9uZU51bWJlcjogIiIKICAgICAgICB9OwogICAgfSwKICAgIGJlZm9yZU1vdW50KCkgewogICAgICAgIHRoaXMuZmV0Y2hDYXRlZ29yeSgpLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLnNlbGVjdCA9IHRoaXMuY2F0ZWdvcnlbMF07CiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZmV0Y2hPcmRlcigpOwogICAgfQp9Owo="},{"version":3,"sources":["Shop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Shop.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container id=\"lateral\">\n        <v-navigation-drawer v-model=\"drawerRight\" app clipped temporary right>\n            <v-list dense class=\"inline\">\n                <v-list-item>\n                    <v-list-item-title>Panier</v-list-item-title>\n                </v-list-item>\n                <v-text-field\n                    style=\"\n        padding: 10px\n        \"\n                    v-model=\"phoneNumber\"\n                    type=\"text\"\n                    label=\"Numéro de téléphone\"\n                ></v-text-field>\n\n                <v-alert\n                    v-if=\"orderSatus.display\"\n                    :type=\"orderSatus.status\"\n                >{{this.orderSatus.details}}</v-alert>\n                <v-sheet id=\"scrolling-techniques\" class=\"overflow-y-auto\" max-height=\"500px\">\n                    <v-list-item v-for=\"(product, i) in cart\" :key=\"i\" link style=\"padding: 5px\">\n                        <CartItem :data=\"product\" />\n                    </v-list-item>\n                </v-sheet>\n                <v-btn\n                    left\n                    bottom\n                    absolute\n                    text\n                    color=\"black\"\n                    class=\"overline\"\n                    @click=\"reset_cart\"\n                >Vider panier</v-btn>\n                <v-btn\n                    right\n                    bottom\n                    absolute\n                    text\n                    color=\"black\"\n                    class=\"overline\"\n                    to=\"shop/order\"\n                >Commander</v-btn>\n            </v-list>\n        </v-navigation-drawer>\n        <v-container>\n            <div v-if=\"isLoaded\">\n                <v-row style=\"padding-bottom: 50px\">\n                    <v-col xs=\"1\" lg=\"10\">\n                        <v-container>\n                            <v-tab max-width=\"25%\" class=\"font-weight-thin\">\n                                <v-select\n                                    v-model=\"select\"\n                                    :items=\"category\"\n                                    item-text=\"name\"\n                                    item-value=\"id\"\n                                    label=\"Catégories\"\n                                    persistent-hint\n                                    return-object\n                                    single-line\n                                />\n                            </v-tab>\n\n                            <div v-if=\"select.id != 4\" align=\"center\" justify=\"center\">\n                                <v-row class=\"light--text\">\n                                    <v-col\n                                        xs=\"12\"\n                                        sm=\"12\"\n                                        md=\"6\"\n                                        lg=\"4\"\n                                        v-for=\"(vals, i) in select.products\"\n                                        :key=\"i\"\n                                        link\n                                    >\n                                        <ShopItem :data=\"vals\" />\n                                    </v-col>\n                                </v-row>\n                            </div>\n                            <ServiceItem v-else />\n                        </v-container>\n                    </v-col>\n                </v-row>\n            </div>\n            <v-text-field v-else color=\"success\" loading disabled></v-text-field>\n        </v-container>\n        <v-btn\n            fab\n            large\n            dark\n            bottom\n            fixed\n            absolute\n            right\n            class=\"v-btn--example\"\n            color=\"#7DBF73\"\n            to=\"shop/order\"\n        >\n            <v-icon>mdi-cart</v-icon>\n        </v-btn>\n    </v-container>\n</template>\n\n<style>\n/* This is for documentation purposes and will not be needed in your application */\n#lateral .v-btn--example {\n    bottom: 0;\n    margin: 0 0 50px 16px;\n}\n</style>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport ShopItem from \"../components/shop/shop_item\";\nimport ServiceItem from \"../components/shop/service_item\";\nimport CartItem from \"../components/shop/cart_item\";\n\nexport default {\n    components: {\n        ShopItem,\n        ServiceItem,\n        CartItem\n    },\n    computed: {\n        ...mapGetters({\n            category: \"CategoryModule/getCategory\",\n            cart: \"getCart\",\n            getOrder: \"OrderModule/getOrder\",\n            user: \"UserModule/getUser\"\n        })\n    },\n    methods: {\n        ...mapActions({\n            reset_cart: \"reset_cart\",\n            fetchCategory: \"CategoryModule/fetchCategory\",\n            set_cart_id: \"set_cart_id\",\n            passOrder: \"OrderModule/passOrder\",\n            fetchOrder: \"OrderModule/fetchOrder\"\n        }),\n        isPhoneNumber(number) {\n            if (number.length != 10) return false;\n            for (var i = 0; i < number.length; i++) {\n                if (!(number[i] <= \"9\" && number[i] >= \"0\")) return false;\n            }\n            return true;\n        },\n        command() {\n            // var number = this.phoneNumber;\n            // if (!number) {\n            //   this.orderSatus.display = true;\n            //   this.orderSatus.status = \"error\";\n            //   this.orderSatus.details =\n            //     \"Tu n'as pas renseigné ton numéro de téléphone. Tu ne peux donc pas commander.\";\n            //   return;\n            // }\n            // if (!this.isPhoneNumber(number)) {\n            //   this.orderSatus.display = true;\n            //   this.orderSatus.status = \"error\";\n            //   this.orderSatus.details = \"Numéro de téléphone non valide. Il doit être du type 0123456789\";\n            //   this.phoneNumber = \"\"\n            //   return;\n            // }\n            user.phoneNumber = this.phoneNumber;\n            var command = {\n                content: this.cart,\n                user: this.user.data,\n                status: 0\n            };\n            this.passOrder(command).then(() => {\n                this.reset_cart();\n                // this.orderSatus.display = true;\n                // this.orderSatus.status = \"success\";\n                // this.orderSatus.details =\n                //   \"Commande passée. Nous allons bientôt revenir vers toi !\";\n                // this.phoneNumber = \"\";\n            });\n        }\n    },\n    data() {\n        return {\n            select: {},\n            isLoaded: false,\n            drawerRight: false,\n            orderSatus: {\n                display: false,\n                status: \"warning\",\n                details: \"\"\n            },\n            phoneNumber: \"\"\n        };\n    },\n    beforeMount() {\n        this.fetchCategory().then(() => {\n            this.select = this.category[0];\n            this.isLoaded = true;\n        });\n        this.fetchOrder();\n    }\n};\n</script>"]}]}